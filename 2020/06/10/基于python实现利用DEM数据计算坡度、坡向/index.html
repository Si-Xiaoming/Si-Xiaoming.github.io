<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>基于python实现利用DEM数据计算坡度、坡向 | 枕小路的博客</title><meta name="keywords" content="python,matplotlib,GIS"><meta name="author" content="Shuming Si"><meta name="copyright" content="Shuming Si"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="之前的GIS作业整理">
<meta property="og:type" content="article">
<meta property="og:title" content="基于python实现利用DEM数据计算坡度、坡向">
<meta property="og:url" content="http://si-xiaoming.github.io/2020/06/10/%E5%9F%BA%E4%BA%8Epython%E5%AE%9E%E7%8E%B0%E5%88%A9%E7%94%A8DEM%E6%95%B0%E6%8D%AE%E8%AE%A1%E7%AE%97%E5%9D%A1%E5%BA%A6%E3%80%81%E5%9D%A1%E5%90%91/index.html">
<meta property="og:site_name" content="枕小路的博客">
<meta property="og:description" content="之前的GIS作业整理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/nk/wallhaven-nkko97.jpg">
<meta property="article:published_time" content="2020-06-10T15:49:52.000Z">
<meta property="article:modified_time" content="2022-02-13T06:39:20.682Z">
<meta property="article:author" content="Shuming Si">
<meta property="article:tag" content="python">
<meta property="article:tag" content="matplotlib">
<meta property="article:tag" content="GIS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/nk/wallhaven-nkko97.jpg"><link rel="shortcut icon" href="/img/head.png"><link rel="canonical" href="http://si-xiaoming.github.io/2020/06/10/%E5%9F%BA%E4%BA%8Epython%E5%AE%9E%E7%8E%B0%E5%88%A9%E7%94%A8DEM%E6%95%B0%E6%8D%AE%E8%AE%A1%E7%AE%97%E5%9D%A1%E5%BA%A6%E3%80%81%E5%9D%A1%E5%90%91/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?e44ef8fb37bb31e8f366764ba3f2efe4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '基于python实现利用DEM数据计算坡度、坡向',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-13 14:39:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/ssm.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-list"></i><span> 留言</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://w.wallhaven.cc/full/nk/wallhaven-nkko97.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">枕小路的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-list"></i><span> 留言</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">基于python实现利用DEM数据计算坡度、坡向</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-10T15:49:52.000Z" title="发表于 2020-06-10 23:49:52">2020-06-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-13T06:39:20.682Z" title="更新于 2022-02-13 14:39:20">2022-02-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/python/">python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="基于python实现利用DEM数据计算坡度、坡向"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p><strong>DEM数据</strong></p>
<pre><code>DataMark:CNSDTF-DEM
Version:1.0
Unit:M
Alpha:0.000000
Compress:0.000000
X0:258000.000
Y0:324000.000
DX:22.500
DY:22.500
Row:321
Col:481
ValueType:Integer
Hzoom:1000
 192743  191068  187814  181388  173357  165286  157185  152266  147335  142391 
 139052  137327  135608  130633  124014  117372  118908  123706  128495  133265 
 138026  139540  139440  139337  135994  131025  127669  124312  120947  119208 
 125633  135280  141643  149598  155913  160612  162106  163600  160300  160203 
 158500  156795  155094  151780  148466  143534  138590  133632  130287  126935 
 125208  126733  133122  136259  137773  139280  142407  143916  142199  142101 
</code></pre><p><strong>坡度</strong><br><img src="https://img-blog.csdnimg.cn/20200610233101124.png" alt="在这里插入图片描述"><br>坡度是法线与铅垂线之间的夹角。如图2.2所示，利用坡度计算公式$\alpha=arctan \sqrt{f_x^2+f_y^2}$ ，进行求解。<br><strong>坡向</strong><br><img src="https://img-blog.csdnimg.cn/20200610233621788.png" alt="在这里插入图片描述"><br>坡向是法线在水平面上的投影与正北方向之间的夹角（顺时针度量）。如图2.3所示，利用坡向计算公式$A = \arctan \frac$ ， 求解。</p>
<h2 id="程序流程"><a href="#程序流程" class="headerlink" title="程序流程"></a>程序流程</h2><p><img src="https://img-blog.csdnimg.cn/20200610233919356.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200610233950490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU2MTM1Nw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>2）计算各点梯度<br><img src="https://img-blog.csdnimg.cn/20200610234043841.png" alt="在这里插入图片描述"></p>
<p>如图3.5所示，可以利用像下面的公式写一个函数进行计算，</p>
<p>首先计算3*3DEM格网数据的X,Y方向的变化。对于整幅图而言，由于本图像元点不是特别多，故对于边缘的点处理时，可以在栅格点外再加一圈栅格便于求梯度。而添加点的方式只需要把原本边缘的栅格点的高程值复制一遍即可，如图3.6所示。</p>
<p><img src="https://img-blog.csdnimg.cn/20200610234059566.png" alt="在这里插入图片描述"></p>
<p>3)解算坡度、坡向<br>如图3.5所示，可以利用下面的公式计算求得坡度和坡向$slop = \arctan \sqrt {slope_x^2  + slope_y^2 } \;\;\;A = \arctan \frac$。在这一过程中可以整体进行计算，从而较为方便地获得坡度和坡向的二维矩阵。</p>
<p>4)可视化<br>利用python中的绘图库matplotlib，编写了一个可视化函数，利用plot里面的imshow，将之前计算得到的二维矩阵存进去，最后以栅格的方式显示。对于三维DEM显示，利用Axes3D的方法，利用DEM文件中的起始坐标和分辨率推算出各个栅格的坐标，对应出高程值，绘制出三维图形。</p>
<h2 id="程序代码"><a href="#程序代码" class="headerlink" title="程序代码"></a>程序代码</h2><h3 id="DEMclass模块"><a href="#DEMclass模块" class="headerlink" title="DEMclass模块"></a>DEMclass模块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> cbook</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> cm</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> LightSource</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="comment">#####读取文件并处理成numpy并返回</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">readfile</span>():</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;datas.DEM&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)<span class="keyword">as</span> file:</span><br><span class="line">        datas = file.readlines()[<span class="number">13</span>:]</span><br><span class="line">    list1 = []</span><br><span class="line">    strs = <span class="string">&quot;&quot;</span></span><br><span class="line">    row = <span class="number">321</span></span><br><span class="line">    col = <span class="number">481</span></span><br><span class="line">    npdata = np.zeros((row, col), dtype=np.int16)</span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> datas:</span><br><span class="line">        data = data.strip()</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(data) &gt; <span class="number">20</span>:</span><br><span class="line">            strs = strs + <span class="string">&quot;   &quot;</span> + data</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(data) &lt; <span class="number">20</span>:</span><br><span class="line">            strs = strs + <span class="string">&quot;   &quot;</span> + data</span><br><span class="line">            list1.append(strs)</span><br><span class="line">            strs = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, sitem <span class="keyword">in</span> <span class="built_in">enumerate</span>(list1):</span><br><span class="line">        item = <span class="built_in">str</span>(sitem).strip()</span><br><span class="line">        <span class="comment"># item=item.split(&quot;  &quot;)</span></span><br><span class="line">        item = re.findall(<span class="string">r&#x27;\d+&#x27;</span>, item)</span><br><span class="line">        <span class="keyword">for</span> j, one <span class="keyword">in</span> <span class="built_in">enumerate</span>(item):  <span class="comment"># i是序号，one是数值</span></span><br><span class="line">            npdata[i][j] = <span class="built_in">int</span>(one)</span><br><span class="line">    <span class="keyword">return</span> npdata</span><br><span class="line"><span class="comment">#####在原栅格图像周围加一圈并返回</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">AddRound</span>(<span class="params">npgrid</span>):</span></span><br><span class="line">    ny, nx = npgrid.shape  <span class="comment"># ny:行数，nx:列数</span></span><br><span class="line">    zbc=np.zeros((ny+<span class="number">2</span>,nx+<span class="number">2</span>))</span><br><span class="line">    zbc[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]=npgrid</span><br><span class="line">    <span class="comment">#四边</span></span><br><span class="line">    zbc[<span class="number">0</span>,<span class="number">1</span>:-<span class="number">1</span>]=npgrid[<span class="number">0</span>,:]</span><br><span class="line">    zbc[-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]=npgrid[-<span class="number">1</span>,:]</span><br><span class="line">    zbc[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">0</span>]=npgrid[:,<span class="number">0</span>]</span><br><span class="line">    zbc[<span class="number">1</span>:-<span class="number">1</span>,-<span class="number">1</span>]=npgrid[:,-<span class="number">1</span>]</span><br><span class="line">    <span class="comment">#角点</span></span><br><span class="line">    zbc[<span class="number">0</span>,<span class="number">0</span>]=npgrid[<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">    zbc[<span class="number">0</span>,-<span class="number">1</span>]=npgrid[<span class="number">0</span>,-<span class="number">1</span>]</span><br><span class="line">    zbc[-<span class="number">1</span>,<span class="number">0</span>]=npgrid[-<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">    zbc[-<span class="number">1</span>,-<span class="number">1</span>]=npgrid[-<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> zbc</span><br><span class="line"><span class="comment">#####计算xy方向的梯度</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Cacdxdy</span>(<span class="params">npgrid,sizex,sizey</span>):</span></span><br><span class="line">    zbc=AddRound(npgrid)</span><br><span class="line">    dx=((zbc[<span class="number">1</span>:-<span class="number">1</span>,:-<span class="number">2</span>])-(zbc[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">2</span>:]))/sizex/<span class="number">2</span>/<span class="number">1000</span></span><br><span class="line">    dy=((zbc[<span class="number">2</span>:,<span class="number">1</span>:-<span class="number">1</span>])-(zbc[:-<span class="number">2</span>,<span class="number">1</span>:-<span class="number">1</span>]))/sizey/<span class="number">2</span>/<span class="number">1000</span></span><br><span class="line">    dx=dx[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line">    dy=dy[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line">    np.savetxt(<span class="string">&quot;dxdy.csv&quot;</span>,dx,delimiter=<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> dx,dy</span><br><span class="line"><span class="comment">####计算坡度\坡向</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CacSlopAsp</span>(<span class="params">dx,dy</span>):</span></span><br><span class="line">    slope=(np.arctan(np.sqrt(dx*dx+dy*dy)))*<span class="number">57.29578</span>  <span class="comment">#转换成°</span></span><br><span class="line">    slope=slope[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line">    <span class="comment">#坡向</span></span><br><span class="line">    a=np.zeros([dx.shape[<span class="number">0</span>],dx.shape[<span class="number">1</span>]]).astype(np.float32)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(dx.shape[<span class="number">0</span>]):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(dx.shape[<span class="number">1</span>]):</span><br><span class="line">            x=<span class="built_in">float</span>(dx[i,j])</span><br><span class="line">            y=<span class="built_in">float</span>(dy[i,j])</span><br><span class="line">            <span class="keyword">if</span> (x==<span class="number">0.</span>)&amp; (y==<span class="number">0.</span>):</span><br><span class="line">                a[i,j]=-<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> x==<span class="number">0.</span>:</span><br><span class="line">                <span class="keyword">if</span> y&gt;<span class="number">0.</span>:</span><br><span class="line">                    a[i,j]=<span class="number">0.</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    a[i,j]=<span class="number">180.</span></span><br><span class="line">            <span class="keyword">elif</span> y==<span class="number">0.</span>:</span><br><span class="line">                <span class="keyword">if</span> x&gt;<span class="number">0</span>:</span><br><span class="line">                    a[i,j]=<span class="number">90.</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    a[i,j]=<span class="number">270.</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a[i,j]=<span class="built_in">float</span>(math.atan(y/x))*<span class="number">57.29578</span></span><br><span class="line">                <span class="keyword">if</span> a[i,j]&lt;<span class="number">0.</span>:</span><br><span class="line">                    a[i,j]=<span class="number">90.</span>-a[i,j]</span><br><span class="line">                <span class="keyword">elif</span> a[i,j]&gt;<span class="number">90.</span>:</span><br><span class="line">                    a[i,j]=<span class="number">450.</span>-a[i,j]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    a[i,j]=<span class="number">90.</span>-a[i,j]</span><br><span class="line">    <span class="keyword">return</span> slope,a</span><br><span class="line"><span class="comment">####绘制平面栅格图</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Drawgrid</span>(<span class="params">judge,pre=[],A=[],strs=<span class="string">&quot;&quot;</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> judge==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> strs == <span class="string">&quot;&quot;</span>:</span><br><span class="line">            plt.imshow(A, interpolation=<span class="string">&#x27;nearest&#x27;</span>, cmap=plt.cm.hot, origin=<span class="string">&#x27;lower&#x27;</span>)  <span class="comment"># cmap=&#x27;bone&#x27;  cmap=plt.cm.hot</span></span><br><span class="line">            plt.colorbar(shrink=<span class="number">0.8</span>)</span><br><span class="line">            plt.xticks(())</span><br><span class="line">            plt.yticks(())</span><br><span class="line">            plt.show()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            plt.imshow(A, interpolation=<span class="string">&#x27;nearest&#x27;</span>, cmap=strs, origin=<span class="string">&#x27;lower&#x27;</span>)  <span class="comment"># cmap=&#x27;bone&#x27;  cmap=plt.cm.hot</span></span><br><span class="line">            plt.colorbar(shrink=<span class="number">0.8</span>)</span><br><span class="line">            xt=<span class="built_in">range</span>(<span class="number">258000</span>, <span class="number">268822</span>,<span class="number">22</span>)</span><br><span class="line">            yt=<span class="built_in">range</span>(<span class="number">324000</span>, <span class="number">331222</span>,<span class="number">22</span>)</span><br><span class="line">            plt.xticks(())</span><br><span class="line">            plt.yticks(())</span><br><span class="line">            plt.show()</span><br><span class="line">    <span class="keyword">elif</span> judge==<span class="number">1</span>:</span><br><span class="line">        fig = plt.figure()</span><br><span class="line">        ax = Axes3D(fig)</span><br><span class="line">        <span class="comment"># X = np.arange(1,482,1)</span></span><br><span class="line">        <span class="comment"># Y = np.arange(1,322,1)</span></span><br><span class="line">        X = np.arange(<span class="number">258000.000</span>, <span class="number">268822.500</span>, <span class="number">22.5</span>)</span><br><span class="line">        Y = np.arange(<span class="number">324000.000</span>, <span class="number">331222.500</span>, <span class="number">22.5</span>)</span><br><span class="line">        X, Y = np.meshgrid(X, Y)</span><br><span class="line">        Z = pre</span><br><span class="line">        ax.plot_surface(X, Y, Z, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>, cmap=plt.get_cmap(<span class="string">&#x27;rainbow&#x27;</span>))  <span class="comment"># cmap=plt.get_cmap(&#x27;rainbow&#x27;)</span></span><br><span class="line">        ax.contourf(X, Y, Z, zdir=<span class="string">&#x27;z&#x27;</span>, offset=-<span class="number">2</span>, cmap=plt.cm.hot)</span><br><span class="line">        ax.set_zlim(<span class="number">0</span>, <span class="number">200000</span>)</span><br><span class="line">        plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="主函数"><a href="#主函数" class="headerlink" title="主函数"></a>主函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> DEMclass <span class="keyword">as</span> dem</span><br><span class="line"><span class="keyword">from</span> DEMclass <span class="keyword">import</span> Drawgrid</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">####程序入口</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    npgrid=dem.readfile()</span><br><span class="line">    pre=npgrid</span><br><span class="line">    npgrid=dem.AddRound(npgrid)</span><br><span class="line">    dx,dy=dem.Cacdxdy(npgrid,<span class="number">22.5</span>,<span class="number">22.5</span>)</span><br><span class="line">    slope,arf=dem.CacSlopAsp(dx,dy)</span><br><span class="line">    dem.np.savetxt(<span class="string">&quot;slope.csv&quot;</span>,slope,delimiter=<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    <span class="comment">#绘制三维DEM</span></span><br><span class="line">    Drawgrid(judge=<span class="number">1</span>,pre=pre)</span><br><span class="line">    <span class="comment">#绘制二维DEM</span></span><br><span class="line">    Drawgrid(judge=<span class="number">0</span>,A=pre,strs=<span class="string">&quot;bone&quot;</span>)</span><br><span class="line">    <span class="comment">#绘制坡度图</span></span><br><span class="line">    Drawgrid(judge=<span class="number">0</span>,A=slope,strs=<span class="string">&quot;rainbow&quot;</span>)</span><br><span class="line">    <span class="comment">#绘制坡向图</span></span><br><span class="line">    Drawgrid(judge=<span class="number">0</span>,A=arf)</span><br></pre></td></tr></table></figure>
<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p>三维图：<br><img src="https://img-blog.csdnimg.cn/20200610234752608.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU2MTM1Nw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>二维DEM：<br><img src="https://img-blog.csdnimg.cn/20200610234806344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU2MTM1Nw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>坡度图：<br><img src="https://img-blog.csdnimg.cn/20200610234819846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU2MTM1Nw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>坡向图：<br><img src="https://img-blog.csdnimg.cn/20200610234831418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU2MTM1Nw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote>
<p>1.Python的地形三维可视化——简介Matplotlib和gdal<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/allenlu2008/article/details/51880333">https://blog.csdn.net/allenlu2008/article/details/51880333</a><br>2.Pycharm中配置GDAL库的一种方法<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35960361/article/details/96438650">https://blog.csdn.net/qq_35960361/article/details/96438650</a><br>3.python 调用gdal 处理dem数据<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_15642411/article/details/79123677">https://blog.csdn.net/qq_15642411/article/details/79123677</a><br>4.适用于Python扩展程序包的非官方Windows二进制文件——GDAL<br><a target="_blank" rel="noopener" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal">https://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal</a><br>5.python gdal安装与简单使用<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/nima1994/article/details/79207805/">https://blog.csdn.net/nima1994/article/details/79207805/</a><br>pip install GDAL-2.4.1-cp37-cp37m-win_amd64.whl<br>6.（目测有用）【GDAL】python读取DEM计算坡度与坡向<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37935516/article/details/85028979">https://blog.csdn.net/qq_37935516/article/details/85028979</a><br>7.arcgis计算坡度、坡向<br><a target="_blank" rel="noopener" href="http://help.arcgis.com/zh-cn/arcgisdesktop/10.0/help/index.html#//009z000000vz000000">http://help.arcgis.com/zh-cn/arcgisdesktop/10.0/help/index.html#//009z000000vz000000</a><br>8.C语言实现GDAL使用DEM数据计算坡度坡向<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/liminlu0314/article/details/8498985">https://blog.csdn.net/liminlu0314/article/details/8498985</a><br>9.gdal在python功能（官方）<br><a target="_blank" rel="noopener" href="https://gdal.org/python/index.html">https://gdal.org/python/index.html</a><br>10.玩转python的正则表达式|提取字符串中的所有数字<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/guanyonglai/article/details/89512659">https://blog.csdn.net/guanyonglai/article/details/89512659</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011436427/article/details/82628597">https://blog.csdn.net/u011436427/article/details/82628597</a><br>可视化<br>1.三维图（目测有用）<br><a target="_blank" rel="noopener" href="https://blog.51cto.com/9291927/2435621">https://blog.51cto.com/9291927/2435621</a><br>2.地图+热力图（可以用于坡度坡向）<br><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/33783546">https://www.zhihu.com/question/33783546</a><br>3.统计<br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dudududu/p/9149762.html">https://www.cnblogs.com/dudududu/p/9149762.html</a><br>4.turtle库<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44078196/article/details/10065651">https://blog.csdn.net/weixin_44078196/article/details/10065651</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Shuming Si</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://si-xiaoming.github.io/2020/06/10/%E5%9F%BA%E4%BA%8Epython%E5%AE%9E%E7%8E%B0%E5%88%A9%E7%94%A8DEM%E6%95%B0%E6%8D%AE%E8%AE%A1%E7%AE%97%E5%9D%A1%E5%BA%A6%E3%80%81%E5%9D%A1%E5%90%91/">http://si-xiaoming.github.io/2020/06/10/%E5%9F%BA%E4%BA%8Epython%E5%AE%9E%E7%8E%B0%E5%88%A9%E7%94%A8DEM%E6%95%B0%E6%8D%AE%E8%AE%A1%E7%AE%97%E5%9D%A1%E5%BA%A6%E3%80%81%E5%9D%A1%E5%90%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://si-xiaoming.github.io" target="_blank">枕小路的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/matplotlib/">matplotlib</a><a class="post-meta__tags" href="/tags/GIS/">GIS</a></div><div class="post_share"><div class="social-share" data-image="https://w.wallhaven.cc/full/nk/wallhaven-nkko97.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2020/07/05/%E5%9F%BA%E4%BA%8EC%20sharp%E5%AE%9E%E7%8E%B0%E5%8D%AB%E6%98%9F%E5%9D%90%E6%A0%87%E8%AE%A1%E7%AE%97%E4%B8%8E%E5%8D%95%E7%82%B9%E5%AE%9A%E4%BD%8D/"><img class="prev-cover" src="https://w.wallhaven.cc/full/zm/wallhaven-zmp9ew.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">基于C#实现卫星坐标计算与单点定位</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/01/12/matplotlib%E4%BB%8E%E7%BB%98%E5%9B%BE%E5%88%B0%E6%8E%92%E7%89%88/" title="matplotlib从绘图到排版"><img class="cover" src="https://w.wallhaven.cc/full/q6/wallhaven-q6xpdq.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-12</div><div class="title">matplotlib从绘图到排版</div></div></a></div><div><a href="/2022/02/12/%E6%B5%85%E8%B0%88%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8python%E8%BF%9B%E8%A1%8C%E7%88%AC%E8%99%AB%E6%93%8D%E4%BD%9C/" title="浅谈如何使用python进行爬虫操作"><img class="cover" src="https://gitee.com/sixiaoming12138/my-web-site-pic/raw/master/1d57dd1b9b3ed35bce25a28f69f11421.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-12</div><div class="title">浅谈如何使用python进行爬虫操作</div></div></a></div><div><a href="/2020/07/11/%E5%9F%BA%E4%BA%8Epython%E4%B8%8EMySQL%E7%9A%84%E8%AE%B0%E8%B4%A6%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="基于python与MySQL的记账可视化小程序"><img class="cover" src="https://w.wallhaven.cc/full/eo/wallhaven-eo53xo.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-11</div><div class="title">基于python与MySQL的记账可视化小程序</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/ssm.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Shuming Si</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Si-Xiaoming"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Si-Xiaoming" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zbssm123@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎各位大佬！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">程序流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text">程序代码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DEMclass%E6%A8%A1%E5%9D%97"><span class="toc-number">3.1.</span> <span class="toc-text">DEMclass模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">主函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E5%9B%BE"><span class="toc-number">4.</span> <span class="toc-text">效果图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">5.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/02/12/%E6%B5%85%E8%B0%88%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8python%E8%BF%9B%E8%A1%8C%E7%88%AC%E8%99%AB%E6%93%8D%E4%BD%9C/" title="浅谈如何使用python进行爬虫操作"><img src="https://gitee.com/sixiaoming12138/my-web-site-pic/raw/master/1d57dd1b9b3ed35bce25a28f69f11421.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浅谈如何使用python进行爬虫操作"/></a><div class="content"><a class="title" href="/2022/02/12/%E6%B5%85%E8%B0%88%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8python%E8%BF%9B%E8%A1%8C%E7%88%AC%E8%99%AB%E6%93%8D%E4%BD%9C/" title="浅谈如何使用python进行爬虫操作">浅谈如何使用python进行爬虫操作</a><time datetime="2022-02-11T17:09:02.000Z" title="发表于 2022-02-12 01:09:02">2022-02-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/12/eigen%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/" title="eigen基础"><img src="https://w.wallhaven.cc/full/0p/wallhaven-0pgedp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="eigen基础"/></a><div class="content"><a class="title" href="/2021/11/12/eigen%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/" title="eigen基础">eigen基础</a><time datetime="2021-11-12T08:12:00.000Z" title="发表于 2021-11-12 16:12:00">2021-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/12/openCV-cpp/" title="opencv c++版本基础"><img src="https://w.wallhaven.cc/full/ne/wallhaven-nemp9k.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="opencv c++版本基础"/></a><div class="content"><a class="title" href="/2021/02/12/openCV-cpp/" title="opencv c++版本基础">opencv c++版本基础</a><time datetime="2021-02-12T03:12:00.000Z" title="发表于 2021-02-12 11:12:00">2021-02-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/12/matplotlib%E4%BB%8E%E7%BB%98%E5%9B%BE%E5%88%B0%E6%8E%92%E7%89%88/" title="matplotlib从绘图到排版"><img src="https://w.wallhaven.cc/full/q6/wallhaven-q6xpdq.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="matplotlib从绘图到排版"/></a><div class="content"><a class="title" href="/2021/01/12/matplotlib%E4%BB%8E%E7%BB%98%E5%9B%BE%E5%88%B0%E6%8E%92%E7%89%88/" title="matplotlib从绘图到排版">matplotlib从绘图到排版</a><time datetime="2021-01-11T17:12:00.000Z" title="发表于 2021-01-12 01:12:00">2021-01-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/07/11/%E5%9F%BA%E4%BA%8Epython%E4%B8%8EMySQL%E7%9A%84%E8%AE%B0%E8%B4%A6%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="基于python与MySQL的记账可视化小程序"><img src="https://w.wallhaven.cc/full/eo/wallhaven-eo53xo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于python与MySQL的记账可视化小程序"/></a><div class="content"><a class="title" href="/2020/07/11/%E5%9F%BA%E4%BA%8Epython%E4%B8%8EMySQL%E7%9A%84%E8%AE%B0%E8%B4%A6%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="基于python与MySQL的记账可视化小程序">基于python与MySQL的记账可视化小程序</a><time datetime="2020-07-11T15:53:42.000Z" title="发表于 2020-07-11 23:53:42">2020-07-11</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://gitee.com/code2thing2021/picgo/raw/master/202112121038191.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Shuming Si</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>